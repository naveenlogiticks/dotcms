## ski resort theme **

##main column
#set ($maincolumn = $dotthemelayout.body)
##sidebar
#set ($sidebar = $dotthemelayout.sidebar)

<!doctype html>

<head>
    #if($dottheme.htmlhead)
        #dotparse("${dottheme.path}html_head.vtl")
    #end
</head>

#set($utilclass = $pagetitle.tolowercase().replace(' ', '-'))

<body class="$dotthemelayout.title.replace("--",'-') $utilclass">

#if($dotthemelayout.header)
    #dotparse("${dottheme.path}header.vtl")
#end



############################
## sidebar - (if present) ##
############################
#if ($sidebar && $sidebar.location != "")
    <div class="container">  
        <div class="row">

        #if ($sidebar.width == 'small')
            #set ($sidebarcolumn1span = "col-sm-2")
            #set ($sidebarcolumn2span = "col-sm-10")
        #elseif ($sidebar.width == 'medium')
            #set ($sidebarcolumn1span = "col-sm-3")
            #set ($sidebarcolumn2span = "col-sm-9")
        #elseif ($sidebar.width == 'large')
            #set ($sidebarcolumn1span = "col-sm-4")
            #set ($sidebarcolumn2span = "col-sm-8")
        #else
            #set ($sidebarcolumn1span = "")
            #set ($sidebarcolumn2span = "")
        #end

        #if ($sidebar.location == "left")
            <div class="$sidebarcolumn1span">
                ##draw the column content
                $render.eval($sidebar.draw())
            </div><!--/div sidebar left-->
            <div class="$sidebarcolumn2span">
        #else
            <div class="$sidebarcolumn2span">
        #end

#end

#########################################
## adding the rows for the main column ##
#########################################
#if ($maincolumn.rows)
    #foreach($row in $maincolumn.rows)
        #if($velocitycount != 1)
            <div class="content-wrapper">
        #end
            #if ($sidebar.location == "")
                <div class="container">
            #end
                <div class="row row-wrapper-$velocitycount">

                    #set($rowleftoffset = 1)

                    ##every row will have a number of columns, lets add one by one using bootstrap grid layout
                    #foreach($column in $row.columns)

                        ##now..., depending on the width of the column lets try to use bootstrap layout styles
                        #set ($currentcolumnspan = "col-md-${column.width}")
                        #set ($offset = 0)
                        
                        ## set the bootstrap offset of each column based on the left offset of the row. 
                        #if ($rowleftoffset == $column.leftoffset)
                            #set($columnoffset = "")
                        #else
                            #set($offset = $column.leftoffset - $rowleftoffset)
                            #set($columnoffset = "offset-sm-${offset}")
                        #end
                        #set($rowleftoffset = $rowleftoffset + $column.width + $offset)
                        
                        
                        <div class="$currentcolumnspan $columnoffset">
                            ##draw the column content
                            $render.eval($column.draw())
                        </div><!--/column-->
                    #end

                </div><!-- /row -->

            #if ($sidebar.location == "")
                </div><!-- /container -->
            #end
        #if($velocitycount != 1)
            </div><!-- /wrapper -->
        #end
    #end
#end

############################
## sidebar - (if present) ##
############################
#if ($sidebar && $sidebar.location != "")
        #if ($sidebar.location == "left")
            </div><!--/div columns-->
        #else
            </div><!--/div columns-->
            <div class="$sidebarcolumn1span">
                ##draw the column content
                $render.eval($sidebar.draw())
            </div><!--/div sidebar right-->
        #end
        </div><!--/div row-->
    </div><!-- /container-->
#end


#if($dotthemelayout.footer)
    #dotparse("${dottheme.path}footer.vtl")
#end

</body>
</html>

                      ##draw the column content
                            $render.eval($column.draw())
                        </div><!--/column-->
                    #end

                </div><!-- /row -->

            #if ($sidebar.location == "")
                </div><!-- /container -->
            #end
        #if($velocitycount != 1)
            </div><!-- /wrapper -->
        #end
    #end
#end

############################
## sidebar - (if present) ##
############################
#if ($sidebar && $sidebar.location != "")
        #if ($sidebar.location == "left")
            </div><!--/div columns-->
        #else
            </div><!--/div columns-->
            <div class="$sidebarcolumn1span">
                ##draw the column content
                $render.eval($sidebar.draw())
            </div><!--/div sidebar right-->
        #end
        </div><!--/div row-->
    </div><!-- /container-->
#end


#if($dotthemelayout.footer)
    #dotparse("${dottheme.path